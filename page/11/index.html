<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/11/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-前端/JS/es特性/Object" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Object/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T08:29:13.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Object/">JS Object</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h1><h2 id="Object-getOwnPropertySymbols"><a href="#Object-getOwnPropertySymbols" class="headerlink" title="Object.getOwnPropertySymbols()"></a>Object.getOwnPropertySymbols()</h2><p>获取Symbol值</p>
<h2 id="Object-setPrototypeOf"><a href="#Object-setPrototypeOf" class="headerlink" title="Object.setPrototypeOf()"></a>Object.setPrototypeOf()</h2><p>设置对象的prototype 用于行为委托</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Object/" data-id="ckm3ks0yz001hnzx4grzxdliv" data-title="JS Object" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/JS/es特性/Proxy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Proxy/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T08:29:13.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Proxy/">JS Proxy</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h1><h1 id="Proxy可以取消代理"><a href="#Proxy可以取消代理" class="headerlink" title="Proxy可以取消代理"></a>Proxy可以取消代理</h1><pre><code class="js">var obj = &#123;
    a: 1
&#125;
  , handles = &#123;
    get(target, key, context) &#123;
        console.log(&quot;accessing:&quot;, key);
        return target[key];
    &#125;,
&#125;
  , &#123;proxy: pobj, revoke: prevoke&#125; = Proxy.revocable(obj, handles)

console.log(pobj.a);
// accessing: a
// 1

prevoke();

pobj.a
// Uncaught TypeError: Cannot perform &#39;get&#39; on a proxy that has been revoked
</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Proxy/" data-id="ckm3ks0z2001onzx4d6hx34js" data-title="JS Proxy" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/JS/es特性/Symbol" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Symbol/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T08:29:13.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Symbol/">JS Symbol</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h1><h2 id="Symbol-species"><a href="#Symbol-species" class="headerlink" title="Symbol.species"></a>Symbol.species</h2><p>用于控制生成新实例时，类的内置方法使用哪个构造器</p>
<h2 id="Symbol-iterator"><a href="#Symbol-iterator" class="headerlink" title="Symbol.iterator"></a>Symbol.iterator</h2><p>用于生成对象的迭代器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="number">1</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&quot;12&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">a[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        next: <span class="function">()=&gt;</span>&#123;</span><br><span class="line">            index++;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                value: <span class="built_in">this</span>[index],</span><br><span class="line">                done: !<span class="built_in">this</span>[index]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">of</span> a) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">    <span class="comment">//张三</span></span><br><span class="line">    <span class="comment">//12</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Symbol-toPrimitive"><a href="#Symbol-toPrimitive" class="headerlink" title="Symbol.toPrimitive"></a>Symbol.toPrimitive</h2><p>在做类型转换时，将对象转为原生类型值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr + <span class="number">10</span>)</span><br><span class="line"><span class="comment">// 1,2,3,410</span></span><br><span class="line"></span><br><span class="line">arr[<span class="built_in">Symbol</span>.toPrimitive] = <span class="function"><span class="keyword">function</span>(<span class="params">hint</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (hint === <span class="string">&quot;default&quot;</span> || hint === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.reduce(<span class="function">(<span class="params">acc,curr</span>)=&gt;</span>acc + curr, <span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr + <span class="number">10</span>)</span><br><span class="line"><span class="comment">//20</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Symbool"><a href="#Symbool" class="headerlink" title="Symbool"></a>Symbool</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/Symbol/" data-id="ckm3ks0z2001pnzx45j4m5w45" data-title="JS Symbol" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/JS/es特性/promise" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/promise/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T08:29:13.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/promise/">JS Promise</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><p><a target="_blank" rel="noopener" href="https://www.ituring.com.cn/article/66566">Promise规范中文翻译</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/JS/es%E7%89%B9%E6%80%A7/promise/" data-id="ckm3ks17k003fnzx4bav58p60" data-title="JS Promise" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/Vue/Vue解析-defineProperty与Proxy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T02:01:37.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/">前端</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/Vue/">Vue</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/">Vue解析 defineProperty与Proxy</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Vue-解析-defineProperty-与-Proxy"><a href="#Vue-解析-defineProperty-与-Proxy" class="headerlink" title="Vue 解析 defineProperty 与 Proxy"></a>Vue 解析 defineProperty 与 Proxy</h1><p>老说 vue2，数组对象不行，不行在哪？<br>老说 vue3 上来，这些数组对象的问题都解决了，到底解决了什么？是真的没有问题了吗？</p>
<h2 id="vue2-的-defineProperty"><a href="#vue2-的-defineProperty" class="headerlink" title="vue2 的 defineProperty"></a>vue2 的 defineProperty</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props &#123;</span><br><span class="line">  <span class="comment">// true 当且仅当该属性描述符的类型可以被改变并且该属性可以从对应对象中删除。</span></span><br><span class="line">  <span class="comment">// 默认为 false</span></span><br><span class="line">  configurable: <span class="built_in">boolean</span>;</span><br><span class="line">  <span class="comment">// true 当且仅当在枚举相应对象上的属性时该属性显现。</span></span><br><span class="line">  <span class="comment">// 默认为 false</span></span><br><span class="line">  enumerable: <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// true 当且仅当在枚举相应对象上的属性时该属性显现。</span></span><br><span class="line">  <span class="comment">// 默认为 false</span></span><br><span class="line">  value: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// true当且仅当与该属性相关联的值可以用assignment operator改变时。</span></span><br><span class="line">  <span class="comment">// 默认为 false</span></span><br><span class="line">  writable: <span class="built_in">boolean</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 作为该属性的 getter 函数，如果没有 getter 则为undefined。函数返回值将被用作属性的值。</span></span><br><span class="line">  <span class="comment">// 默认为 undefined</span></span><br><span class="line">  get?: <span class="function">() =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 作为属性的 setter 函数，如果没有 setter 则为undefined。函数将仅接受参数赋值给该属性的新值。</span></span><br><span class="line">  <span class="comment">// 默认为 undefined</span></span><br><span class="line">  set?:<span class="function">(<span class="params">value</span>)=&gt;</span><span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params </span>obj: 修改对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params </span>key: 要修改的值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params </span>Props:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj,key, <span class="attr">props</span>: Props)</span><br></pre></td></tr></table></figure>

<p>描述符可以有的属性</p>
<table>
<thead>
<tr>
<th></th>
<th>configurable</th>
<th>enumerable</th>
<th>value</th>
<th>writable</th>
<th>get</th>
<th>set</th>
</tr>
</thead>
<tbody><tr>
<td>数据描述符</td>
<td>可以</td>
<td>可以</td>
<td>可以</td>
<td>可以</td>
<td>不可以</td>
<td>不可以</td>
</tr>
<tr>
<td>存取描述符</td>
<td>可以</td>
<td>可以</td>
<td>不可以</td>
<td>不可以</td>
<td>可以</td>
<td>可以</td>
</tr>
</tbody></table>
<p>example：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line">    <span class="built_in">Object</span>.keys(data).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> value = data[key]</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(result, key, &#123;</span><br><span class="line">            enumerable: <span class="literal">true</span>,</span><br><span class="line">            configurable: <span class="literal">true</span>,</span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`set`</span>, key, val)</span><br><span class="line">                value = val</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`get`</span>, key, value)</span><br><span class="line">                <span class="keyword">return</span> value</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(p.name)</span><br><span class="line">p.name = <span class="string">&#x27;李四&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(p.name)</span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-09-18-29-32.png"></p>
<p>遗留问题：</p>
<p><code>Object.defineProperty</code>只能根据已存在的 key 来修改<code>get</code>、<code>set</code>方法，所以当<code>key</code>不存在的时候没有办法触发<code>get</code>和<code>set</code>所以需要强制刷新，使用<code>$set</code></p>
<h3 id="vue2-数组对象有什么问题"><a href="#vue2-数组对象有什么问题" class="headerlink" title="vue2 数组对象有什么问题"></a>vue2 数组对象有什么问题</h3><p>数组可以看成<code>key</code>为 0，1…的对象，也可以使用<code>Object.defineProperty</code>改写<code>get</code>和<code>set</code>，也就是说<code>vue2</code>可以监控数组的数据变化，</p>
<p>问题 1. 当新增值的时候，数据的新的 key 没有被<code>Object.defineProperty</code>改写，也就没有办法触发页面刷新，因此需要用<code>$set</code></p>
<p>问题 2. 当数组<code>unshift</code>插入值的时候，会修改整个数组的每个对象，所以要触发多次<code>get</code>，<code>set</code>， 如下图</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line">    <span class="built_in">Object</span>.keys(data).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> value = data[key]</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(result, key, &#123;</span><br><span class="line">            enumerable: <span class="literal">true</span>,</span><br><span class="line">            configurable: <span class="literal">true</span>,</span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`set`</span>, key, val)</span><br><span class="line">                value = val</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`get`</span>, key, value)</span><br><span class="line">                <span class="keyword">return</span> value</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.unshift(<span class="string">&#x27;赵六&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-09-21-28-57.png"></p>
<p>解析：数组将内部对象，依次往后移动一位，最后在开始位置插入<code>赵六</code>数据，所以需要重复的<code>get</code>,<code>set</code>特别，是最后一个值<code>王五</code>，移动到 3 号位置的时候，3 号位置没有被<code>Object.defineProperty</code>改写，因此打印出来的数据上 3 号位置没有<code>get</code>、<code>set</code>方法，也就没有触发<code>set</code>,<code>console.dir(p)</code>后也就没有触发<code>get</code>打印<code>get 3 王五</code></p>
<h3 id="vue2-如何处理"><a href="#vue2-如何处理" class="headerlink" title="vue2 如何处理"></a>vue2 如何处理</h3><blockquote>
<p>node_modules/vue/src/core/observer/array.js</p>
</blockquote>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> methodsToPatch = [</span><br><span class="line">    <span class="string">&#x27;push&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;pop&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;shift&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;unshift&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;splice&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;sort&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;reverse&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Intercept mutating methods and emit events</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">methodsToPatch.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">method</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// cache original method</span></span><br><span class="line">    <span class="keyword">const</span> original = arrayProto[method]</span><br><span class="line">    def(arrayMethods, method, <span class="function"><span class="keyword">function</span> <span class="title">mutator</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">const</span> result = original.apply(<span class="built_in">this</span>, args) <span class="comment">//执行方法</span></span><br><span class="line">        <span class="keyword">const</span> ob = <span class="built_in">this</span>.__ob__</span><br><span class="line">        <span class="keyword">let</span> inserted</span><br><span class="line">        <span class="keyword">switch</span> (method) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;push&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;unshift&#x27;</span>:</span><br><span class="line">                inserted = args</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;splice&#x27;</span>:</span><br><span class="line">                inserted = args.slice(<span class="number">2</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (inserted) ob.observeArray(inserted) <span class="comment">// 改写新插入的值</span></span><br><span class="line">        <span class="comment">// notify change</span></span><br><span class="line">        ob.dep.notify()</span><br><span class="line">        <span class="keyword">return</span> result <span class="comment">// 返回结果</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>检测数组中的方法有没有被添加数据，如果添加了数据，就将添加的数据用<code>Object.defineProperty</code>改写。<br>因此也就解决了，push 后的值没有被监听的问题</p>
<h3 id="遗留问题"><a href="#遗留问题" class="headerlink" title="遗留问题"></a>遗留问题</h3><p>因为要对对象的所有属性改写<code>set</code>、<code>get</code>方法，所以需要<code>递归遍历</code>数据的元素,所以性能比较差，所以不要在<code>vue</code>的<code>data</code>上挂不需要的值。如<code>window</code>，<code>jquery</code>等</p>
<h2 id="vue3-的-Proxy"><a href="#vue3-的-Proxy" class="headerlink" title="vue3 的 Proxy"></a>vue3 的 Proxy</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Handler &#123;</span><br><span class="line">  get: <span class="built_in">Function</span></span><br><span class="line">  set: <span class="built_in">Function</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params </span>target 代理对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params </span>handler 处理对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target:<span class="built_in">object</span>, <span class="attr">handler</span>:Handler)</span><br></pre></td></tr></table></figure>

<p>example</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line"></span><br><span class="line">    p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(result, &#123;</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`set`</span>, prop, value)</span><br><span class="line">            obj[prop] = value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`get`</span>, prop, obj[prop])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> obj[prop]</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.name = <span class="string">&#x27;李四&#x27;</span></span><br><span class="line">p.name</span><br></pre></td></tr></table></figure>

<p>console<br><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-09-03-23-23-07.png"></p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-09-22-17-55.png"></p>
<h3 id="vue3-解决了-vue2-什么问题"><a href="#vue3-解决了-vue2-什么问题" class="headerlink" title="vue3 解决了 vue2 什么问题"></a>vue3 解决了 vue2 什么问题</h3><p>Proxy 不需要遍历 data 的所有 key 修改 key 的 get 和 set，只需要在最上使用 Proxy，就能监听到当前对象 get 和 set。</p>
<p>那么当我们<code>p.name.first=&quot;李&quot;</code>还能触发 set 吗</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        first: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;三&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line"></span><br><span class="line">    p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(result, &#123;</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`set`</span>, prop, value)</span><br><span class="line">            obj[prop] = value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`get`</span>, prop, obj[prop])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> obj[prop]</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.name.first = <span class="string">&#x27;李&#x27;</span></span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-10-04-51-01.png"></p>
<p>从 console 可以看出，只触发 data 的 name 的 get 方法，没有触发 set，也就是说 Proxy 只能监听代理数据的子项，不能监听代理数据的孙子项。</p>
<h3 id="怎么办？"><a href="#怎么办？" class="headerlink" title="怎么办？"></a>怎么办？</h3><p>由于 Proxy 是在 Data 上监听，那么为什么不能在 get 被触发的时候，将子项也代理，从而达到监听孙子项的目的那</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        first: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;三&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line"></span><br><span class="line">    p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(result, &#123;</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`set`</span>, prop, value)</span><br><span class="line">            obj[prop] = value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`get`</span>, prop, obj[prop])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> defineReactive(obj[prop])</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.name.first = <span class="string">&#x27;李&#x27;</span></span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-10-05-03-54.png"></p>
<p>如图：监听到了 p.name.first 的 set 事件，这样就解决了数据递归遍历的噩运，提高了速度。</p>
<h3 id="vue3-遗留问题"><a href="#vue3-遗留问题" class="headerlink" title="vue3 遗留问题"></a>vue3 遗留问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line"></span><br><span class="line">    p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(result, &#123;</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`set`</span>, prop, value)</span><br><span class="line">            obj[prop] = value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`get`</span>, prop, obj[prop])</span><br><span class="line">            <span class="keyword">return</span> obj[prop]</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.dir(p[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-09-22-23-59.png"></p>
<p>当 data 为数组的时候也可以监听到。但是 <code>unshift</code>哪</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = defineReactive(data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">defineReactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = data</span><br><span class="line"></span><br><span class="line">    p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(result, &#123;</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`set`</span>, prop, value)</span><br><span class="line">            obj[prop] = value</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> val = obj[prop]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[prop] === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                val = defineReactive(obj[prop])</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> val</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p.unshift(<span class="string">&#x27;赵六&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>console</p>
<p><img src="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/2020-07-10-05-15-55.png"></p>
<p>由此可见：在 vue3 中使用了 Proxy 也没有解决触发多次 set 事件的问题。</p>
<p>vue3完整示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reactive</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> data !== <span class="string">&#x27;object&#x27;</span> || data == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> observed = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span><br><span class="line">        <span class="function"><span class="title">get</span>(<span class="params">target, key, receiver</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> result = <span class="built_in">Reflect</span>.get(target, key, receiver)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> result !== <span class="string">&#x27;object&#x27;</span> ? result : reactive(result)</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">target, key, value, receiver</span>)</span> &#123;</span><br><span class="line">            effective()</span><br><span class="line">            <span class="keyword">const</span> ret = Refect.set(target, key, value, receiver)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="title">deleteProperty</span>(<span class="params">target, key</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> ret = Refect.deleteProperty(target, key)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> observed</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/Vue%E8%A7%A3%E6%9E%90-defineProperty%E4%B8%8EProxy/" data-id="ckm3ks24l0078nzx43fdt93nb" data-title="Vue解析 defineProperty与Proxy" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/Vue/keep-alive" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/keep-alive/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T02:01:37.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/keep-alive/">keep-alive</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h1><h2 id="作用-缓存视图"><a href="#作用-缓存视图" class="headerlink" title="作用 缓存视图"></a>作用 缓存视图</h2><h2 id="怎么缓存-以队列到内存"><a href="#怎么缓存-以队列到内存" class="headerlink" title="怎么缓存 以队列到内存"></a>怎么缓存 以队列到内存</h2><h2 id="缓存什么-VNode-虚拟-DOM-Vue-gt-数据"><a href="#缓存什么-VNode-虚拟-DOM-Vue-gt-数据" class="headerlink" title="缓存什么 VNode 虚拟 DOM Vue -&gt; 数据"></a>缓存什么 VNode 虚拟 DOM Vue -&gt; 数据</h2><h2 id="注意点-缓存数量限制"><a href="#注意点-缓存数量限制" class="headerlink" title="注意点 缓存数量限制"></a>注意点 缓存数量限制</h2><h2 id="缓存机制-LRU-页面置换算法"><a href="#缓存机制-LRU-页面置换算法" class="headerlink" title="缓存机制 LRU 页面置换算法"></a>缓存机制 LRU 页面置换算法</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E5%89%8D%E7%AB%AF/Vue/keep-alive/" data-id="ckm3ks24m0079nzx4bajnh633" data-title="keep-alive" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-算法/基础/时间复杂度" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/20/%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%80/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/" class="article-date">
  <time class="dt-published" datetime="2020-07-20T02:01:37.000Z" itemprop="datePublished">2020-07-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a>►<a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%80/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/">时间复杂度</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h1><h2 id="渐进时间复杂度"><a href="#渐进时间复杂度" class="headerlink" title="渐进时间复杂度"></a>渐进时间复杂度</h2><p>若存在函数 f(n), 使得当 n 趋近于无穷大时，T(n)/f(n) 的极限值不等于零的常数，则称 f(n)是 T(n)的同数量级函数，记作 T(n) = O(f(n)), 称为 O(f(n)), O 为算法的 渐进时间复杂度，简称为时间复杂度</p>
<h2 id="时间复杂度优先级"><a href="#时间复杂度优先级" class="headerlink" title="时间复杂度优先级"></a>时间复杂度优先级</h2><p>O(1) &lt; O(logn) &lt; O(n) &lt; O(n^2)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/20/%E7%AE%97%E6%B3%95/%E5%9F%BA%E7%A1%80/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/" data-id="ckm4x8dns000skex44yrs7d1u" data-title="时间复杂度" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/TS/typescript" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/04/01/%E5%89%8D%E7%AB%AF/TS/typescript/" class="article-date">
  <time class="dt-published" datetime="2020-04-01T09:48:17.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/01/%E5%89%8D%E7%AB%AF/TS/typescript/">typescript</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h1><h2 id="布尔"><a href="#布尔" class="headerlink" title="布尔"></a>布尔</h2><h2 id="数值"><a href="#数值" class="headerlink" title="数值"></a>数值</h2><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><h2 id="枚举值"><a href="#枚举值" class="headerlink" title="枚举值"></a>枚举值</h2><h2 id="any"><a href="#any" class="headerlink" title="any"></a>any</h2><h2 id="void"><a href="#void" class="headerlink" title="void"></a>void</h2><h2 id="null-和-undefined"><a href="#null-和-undefined" class="headerlink" title="null 和 undefined"></a>null 和 undefined</h2><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><h2 id="object"><a href="#object" class="headerlink" title="object"></a>object</h2><h2 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/04/01/%E5%89%8D%E7%AB%AF/TS/typescript/" data-id="ckm3ks23h006inzx448mk70uw" data-title="typescript" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-前端/React/React-Hook" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/04/01/%E5%89%8D%E7%AB%AF/React/React-Hook/" class="article-date">
  <time class="dt-published" datetime="2020-04-01T05:41:43.000Z" itemprop="datePublished">2020-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/01/%E5%89%8D%E7%AB%AF/React/React-Hook/">React Hook</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Hook 是React 16.8的新增特性, 它可以在不编写class的情况下使用state以及其他React特性</p>
<p>Hooks增加了函数式组件中<code>state</code>的使用,在之前函数式组件是无法拥有自己的状态的,只能通过 <strong>props</strong> 以及 <strong>context</strong> 来渲染自己的UI, 而在业务逻辑中, 有些场景必须要使用到 state, 那么 我们就只能将函数式组件定义为class 组件.而现在通过 Hook, 我们可以轻松的在函数式组件中保护我们的状态, 不需要更改为class组件</p>
<h2 id="存在问题Class"><a href="#存在问题Class" class="headerlink" title="存在问题Class"></a>存在问题Class</h2><ol>
<li>组件间复用状态逻辑很难</li>
<li>复杂组件变得难以理解,高阶组件和函数组件的嵌套过深</li>
<li>class组件存在this指向的问题</li>
<li>难以记忆生命周期</li>
</ol>
<h2 id="Hooks解决的问题"><a href="#Hooks解决的问题" class="headerlink" title="Hooks解决的问题"></a>Hooks解决的问题</h2><p><strong>React Hooks</strong> 要解决的问题是状态共享, 这里的状态共享是指只共享状态逻辑复用,并不是数据之间的共享.我们知道在React Hooks之间,解决状态逻辑复用问题, 我们通常使用higher-order components 和 render-props.</p>
<blockquote>
<p>Hook 最大的优势其实还是对于状态逻辑的复用便捷,还有代码的简洁,以及帮助函数组件增强功能</p>
</blockquote>
<h2 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Hooks = &#123;</span><br><span class="line">    memoizedState: <span class="built_in">any</span>; <span class="comment">// 指向当前渲染节点 Fiber</span></span><br><span class="line">    baseState: <span class="built_in">any</span>; <span class="comment">// 初始化 initialState, 已经每次dispatch 之后 newState</span></span><br><span class="line">    baseUpdate: Update&lt;<span class="built_in">any</span>&gt; | <span class="literal">null</span>; <span class="comment">// 当前需要更新的Update, 每次更新完之后,会赋值上一个 update, 方便 react 在渲染错误的边缘,数据回溯</span></span><br><span class="line">    queue: UndateQueue&lt;<span class="built_in">any</span>&gt; | <span class="literal">null</span>; <span class="comment">// UndateQueue 通过</span></span><br><span class="line">    next: Hook | <span class="literal">null</span>; <span class="comment">// link 到下一个hooks, 通过next 串联每一个 hooks</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Effect = &#123;</span><br><span class="line">    tag: HookEffectTag; <span class="comment">// effectTag 标记当前hook作用在 life-cycles 的哪一个阶段</span></span><br><span class="line">    create: <span class="function">() =&gt;</span> mixed; <span class="comment">// 初始化 callback</span></span><br><span class="line">    destroy: (<span class="function">() =&gt;</span> mixed) | <span class="literal">null</span>;</span><br><span class="line">    deps: <span class="built_in">Array</span>&lt;mixed&gt; | <span class="literal">null</span>;</span><br><span class="line">    next: Effect;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Reack Hooks 全局维护了一个workInProgressHook变量, 每一次调用 Hooks API 都会首先调取 createWorkInProgressHooks函数</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWorkInProgressHook</span>(<span class="params"></span>): <span class="title">Hook</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (workInProgressHook === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// This is the first hook in the list</span></span><br><span class="line">    <span class="keyword">if</span> (firstWorkInProgressHook === <span class="literal">null</span>) &#123;</span><br><span class="line">      isReRender = <span class="literal">false</span>;</span><br><span class="line">      firstWorkInProgressHook = workInProgressHook = createHook();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// There&#x27;s already a work-in-progress. Reuse it.</span></span><br><span class="line">      isReRender = <span class="literal">true</span>;</span><br><span class="line">      workInProgressHook = firstWorkInProgressHook;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (workInProgressHook.next === <span class="literal">null</span>) &#123;</span><br><span class="line">      isReRender = <span class="literal">false</span>;</span><br><span class="line">      <span class="comment">// Append to the end of the list</span></span><br><span class="line">      workInProgressHook = workInProgressHook.next = createHook();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// There&#x27;s already a work-in-progress. Reuse it.</span></span><br><span class="line">      isReRender = <span class="literal">true</span>;</span><br><span class="line">      workInProgressHook = workInProgressHook.next;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> workInProgressHook;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Hooks 的串联不是一个数组, 是一个链式的数据结构, 从跟节点 workInProgressHook 向下通过next 进行 串联, 这也就是 为什么 Hooks不能嵌套使用,不能在判断条件中使用,不能在循环中使用,否则回破坏链式结构</p>
<h2 id="class-与-hooks的生命周期对应关系"><a href="#class-与-hooks的生命周期对应关系" class="headerlink" title="class 与 hooks的生命周期对应关系"></a>class 与 hooks的生命周期对应关系</h2><table>
<thead>
<tr>
<th>class组件</th>
<th>Hooks组件</th>
</tr>
</thead>
<tbody><tr>
<td>constructor</td>
<td>useState</td>
</tr>
<tr>
<td>getDerivedStateFromProps</td>
<td>useState里面的update函数</td>
</tr>
<tr>
<td>shouldComponentUpdate</td>
<td>useMemo</td>
</tr>
<tr>
<td>render</td>
<td>函数本身</td>
</tr>
<tr>
<td>componentDidMount</td>
<td>useLayoutEffect</td>
</tr>
<tr>
<td>componentDidUpdate</td>
<td>useEffect</td>
</tr>
<tr>
<td>componentWillUnmount</td>
<td>useEffect里面返回的函数</td>
</tr>
<tr>
<td>componentDidCatch</td>
<td>无</td>
</tr>
<tr>
<td>getDerivedStateFromError</td>
<td>无</td>
</tr>
</tbody></table>
<h2 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(initialState);</span><br></pre></td></tr></table></figure>

<p>setState 函数用于更新 state。它接收一个新的 state 值并将组件的一次重新渲染加入队列。</p>
<pre><code>setState(Object.assign(state,&#123;name:&#39;123&#39;&#125;) // 并不会改变 state中的name
setState(&#123;...state,&#123;name:&#39;123&#39;&#125;&#125;) // 每次都要付给他新的值
</code></pre>
<h2 id="useEffect-fn-state…"><a href="#useEffect-fn-state…" class="headerlink" title="useEffect(fn,[state…])"></a>useEffect(fn,[state…])</h2><p>该 Hook 接收一个包含命令式、且可能有副作用代码的函数。useEffect 的函数会在组件渲染到屏幕之后执行。</p>
<pre><code>useEffect(() =&gt; &#123;
  const subscription = props.source.subscribe();
  return () =&gt; &#123;
    // 清除订阅
    subscription.unsubscribe();
  &#125;;
&#125;,[state]);
</code></pre>
<p>当第二个参数不填，默认为所有state，当state更新都，先执行fn返回函数，后执行fn<br>当第二个参数为[], 取消所有组件监控，当组件更新，先执行fn返回函数，后执行fn<br>当第二个参数填一个state，则当前state更新则，先执行fn返回函数，后执行fn</p>
<h2 id="useRef"><a href="#useRef" class="headerlink" title="useRef()"></a>useRef()</h2><ol>
<li><p>保存dom元素</p>
<pre><code> function TextInputWithFocusButton() &#123;
   const inputEl = useRef(null);
   const onButtonClick = () =&gt; &#123;
     // `current` 指向已挂载到 DOM 上的文本输入元素
     inputEl.current.focus();
   &#125;;
   return (
     &lt;&gt;
       &lt;input ref=&#123;inputEl&#125; type=&quot;text&quot; /&gt;
       &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;
     &lt;/&gt;
   );
 &#125;
</code></pre>
</li>
<li><p>保存可变值 但不会渲染到页面上</p>
<pre><code> function TextInputWithFocusButton() &#123;
   const inputEl = useRef(null);
   const save = useRef(&#123;name:&#39;123&#39;&#125;);
   const onButtonClick = () =&gt; &#123;
     // `current` 指向已挂载到 DOM 上的文本输入元素
     save.current.value = inputEl.current.value;
   &#125;;
   return (
     &lt;&gt;
       &lt;input ref=&#123;inputEl&#125; type=&quot;text&quot; /&gt;
       &lt;button onClick=&#123;onButtonClick&#125;&gt;Focus the input&lt;/button&gt;
     &lt;/&gt;
   );
 &#125;
</code></pre>
</li>
</ol>
<h2 id="useContext-myContent"><a href="#useContext-myContent" class="headerlink" title="useContext(myContent)"></a>useContext(myContent)</h2><pre><code> 跨多层组件传值，有父组件向子组件，必须与createContext结合使用
const value = useContext(MyContext);
</code></pre>
<hr>
<pre><code>const themes = &#123;
  light: &#123;
    foreground: &quot;#000000&quot;,
    background: &quot;#eeeeee&quot;
  &#125;,
  dark: &#123;
    foreground: &quot;#ffffff&quot;,
    background: &quot;#222222&quot;
  &#125;
&#125;;

const ThemeContext = React.createContext(themes.light);

function App() &#123;
  return (
    &lt;ThemeContext.Provider value=&#123;themes.dark&#125;&gt;
      &lt;Toolbar /&gt;
    &lt;/ThemeContext.Provider&gt;
  );
&#125;

function Toolbar(props) &#123;
  return (
    &lt;div&gt;
      &lt;ThemedButton /&gt;
    &lt;/div&gt;
  );
&#125;

function ThemedButton() &#123;
  const theme = useContext(ThemeContext);
  return (
    &lt;button style=&#123;&#123; background: theme.background, color: theme.foreground &#125;&#125;&gt;
      I am styled by theme context!
    &lt;/button&gt;
  );
&#125;
</code></pre>
<h2 id="useMemo-gt-默认可以不写"><a href="#useMemo-gt-默认可以不写" class="headerlink" title="useMemo(()=&gt;{},[默认可以不写])"></a>useMemo(()=&gt;{},[默认可以不写])</h2><pre><code>const memoizedValue = useMemo(() =&gt; computeExpensiveValue(a, b), [a, b]);
</code></pre>
<p>渲染过程中执行,与useEffect不同</p>
<ol>
<li>不给第二个参数，一定执行，每次都渲染视图</li>
<li>第二个参数为[], 数据怎么变都不进行视图渲染</li>
<li>第二个参数为[a],只有当数据a变化的时候才进行视图渲染</li>
</ol>
<h2 id="useCallback-gt"><a href="#useCallback-gt" class="headerlink" title="useCallback(()=&gt;{}, []);"></a>useCallback(()=&gt;{}, []);</h2><pre><code>const memoizedCallback = useCallback(
  () =&gt; &#123;
    doSomething(a, b);
  &#125;,
  [a, b],
);
</code></pre>
<p>和useMemo一样，但是返回的是个函数，函数每次渲染都会执行，但值不变;</p>
<ol>
<li>不给第二个参数，一定执行，每次值都变</li>
<li>第二个参数为[], 值不变</li>
<li>第二个参数为[a],只有当数据a变化的时候才进行值的变化</li>
</ol>
<h2 id="forwordRef-props-ref-gt"><a href="#forwordRef-props-ref-gt" class="headerlink" title="forwordRef((props, ref) =&gt; {})"></a>forwordRef((props, ref) =&gt; {})</h2><p>将组件内的domRef直接暴露到组件本身上</p>
<pre><code>const FancyButton = React.forwardRef((props, ref) =&gt; (
  &lt;button ref=&#123;ref&#125; className=&quot;FancyButton&quot;&gt;
    &#123;props.children&#125;
  &lt;/button&gt;
));

// 你可以直接获取 DOM button 的 ref：
const ref = React.createRef();
&lt;FancyButton ref=&#123;ref&#125;&gt;Click me!&lt;/FancyButton&gt;;
</code></pre>
<h2 id="useImperativeHandle-ref-gt"><a href="#useImperativeHandle-ref-gt" class="headerlink" title="useImperativeHandle(ref, ()=&gt; {}, [])"></a>useImperativeHandle(ref, ()=&gt; {}, [])</h2><p>可以在你使用ref时自定义暴露给父组件实例的值。最好与forwardRef结合使用</p>
<pre><code>function FancyInput(props, ref) &#123;
  const inputRef = useRef();
  useImperativeHandle(ref, () =&gt; (&#123;
    focus: () =&gt; &#123;
      inputRef.current.focus();
    &#125;
  &#125;));
  return &lt;input ref=&#123;inputRef&#125; ... /&gt;;
&#125;
FancyInput = forwardRef(FancyInput);
</code></pre>
<p>第三个参数，监控state的变化</p>
<h2 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h2><p>其函数签名与 useEffect 相同，但它会在所有的 DOM 变更之后同步调用 effect。可以使用它来读取 DOM 布局并同步触发重渲染。在浏览器执行绘制之前，useLayoutEffect 内部的更新计划将被同步刷新。</p>
<h2 id="自定义hook"><a href="#自定义hook" class="headerlink" title="自定义hook"></a>自定义hook</h2><ol>
<li>必须以use开头</li>
<li>就是一个普通函数</li>
</ol>
<h2 id="useReducer-reducer-初始值，initFn-return-state-dispatch"><a href="#useReducer-reducer-初始值，initFn-return-state-dispatch" class="headerlink" title="useReducer(reducer,初始值，initFn) return [state, dispatch]"></a>useReducer(reducer,初始值，initFn) return [state, dispatch]</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/04/01/%E5%89%8D%E7%AB%AF/React/React-Hook/" data-id="ckm3ks1bc0056nzx4bpczb0ep" data-title="React Hook" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-前端/面试题/前端面试题" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/03/30/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2020-03-30T01:16:39.000Z" itemprop="datePublished">2020-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/03/30/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/">前端面试题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="React、redux-vue、vue-router实现原理、-vuex、vue双向绑定的实现原理。"><a href="#React、redux-vue、vue-router实现原理、-vuex、vue双向绑定的实现原理。" class="headerlink" title="React、redux, vue、vue-router实现原理、 vuex、vue双向绑定的实现原理。"></a>React、redux, vue、vue-router实现原理、 vuex、vue双向绑定的实现原理。</h1><h2 id="redux-React状态管理-参考文档"><a href="#redux-React状态管理-参考文档" class="headerlink" title="redux-React状态管理 参考文档"></a>redux-React状态管理 <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html">参考文档</a></h2><h3 id="使用情况"><a href="#使用情况" class="headerlink" title="使用情况"></a>使用情况</h3><pre><code>    某个组件的状态，需要共享
    某个状态需要在任何地方都可以拿到
    一个组件需要改变全局状态
    一个组件需要改变另一个组件的状态
</code></pre>
<h3 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h3><pre><code>    Web 应用是一个状态机，视图与状态是一一对应的。
    所有的状态，保存在一个对象里面。
</code></pre>
<h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><pre><code>    1. Store 保存数据的地方，可以看成一个容器，整个应用中只有一个store
    2. State 对象包含的数据，如果想得到某个时点的数据，就要对store生成快照，这个时点的数据集合就叫state
    3. Action State的变化会导致View的变化，用户接触不到State，只能接触View，State的变化必须是View导致的，Action就是View发出，用来改变State的
    4. Reducer Store收到Action之后，必须给出一个新的State，这样View才会发生变化，这种State的计算过程就叫做Reducer
    5. Store.dispatch（）发出Action ， store.subscribe() 监听变化
</code></pre>
<h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><pre><code>    “haschange”，“pushstate”，“replacestate”
</code></pre>
<h1 id="HTTPS-三次握手、浏览器垃圾回收机制、service-worker主要作用。"><a href="#HTTPS-三次握手、浏览器垃圾回收机制、service-worker主要作用。" class="headerlink" title="HTTPS 三次握手、浏览器垃圾回收机制、service worker主要作用。"></a>HTTPS 三次握手、浏览器垃圾回收机制、service worker主要作用。</h1><h2 id="自动垃圾回收机制-GC-Garbage-Collecation"><a href="#自动垃圾回收机制-GC-Garbage-Collecation" class="headerlink" title="自动垃圾回收机制(GC:Garbage Collecation)"></a>自动垃圾回收机制(GC:Garbage Collecation)</h2><h3 id="标记清除"><a href="#标记清除" class="headerlink" title="标记清除"></a>标记清除</h3><pre><code>    function test()&#123;
    var a = 10 ;             //被标记 ，进入环境 
    var b = 20 ;             //被标记 ，进入环境
    &#125;
    test();                     //执行完毕 之后 a、b又被标离开环境，被回收。
</code></pre>
<h3 id="引用计数"><a href="#引用计数" class="headerlink" title="引用计数"></a>引用计数</h3><pre><code>  function test()&#123;
      var a = &#123;&#125; ;         //a的引用次数为0 
      var b = a ;         //a的引用次数加1，为1 
      var c =a;           //a的引用次数再加1，为2
      var b =&#123;&#125;;          //a的引用次数减1，为1
  &#125;
</code></pre>
<h3 id="内存泄漏"><a href="#内存泄漏" class="headerlink" title="内存泄漏"></a>内存泄漏</h3><ol>
<li><p>全局变量</p>
</li>
<li><p>被遗忘的定时器和回调函数</p>
</li>
<li><p>DOM引用</p>
</li>
<li><p>闭包引用</p>
<pre><code> var theThing = null;
 var replaceThing = function () &#123;
   var originalThing = theThing;
   var unused = function () &#123;
     if (originalThing)
       console.log(&quot;hi&quot;);
   &#125;;
   theThing = &#123;
     longStr: new Array(1000000).join(&#39;*&#39;),
     someMethod: function () &#123;
       console.log(someMessage);
     &#125;
   &#125;;
   unused =null;
 &#125;;
 setInterval(replaceThing, 1000);
</code></pre>
</li>
</ol>
<h2 id="Service-Worker-参考文档"><a href="#Service-Worker-参考文档" class="headerlink" title="Service Worker 参考文档"></a>Service Worker <a target="_blank" rel="noopener" href="https://linhaorong.top/blog/web/serviceworker/">参考文档</a></h2><h3 id="6种状态"><a href="#6种状态" class="headerlink" title="6种状态"></a>6种状态</h3><ol>
<li>parsed</li>
<li>installing</li>
<li>installed</li>
<li>activating</li>
<li>activated</li>
<li>redundant</li>
</ol>
<h3 id="web-Worker"><a href="#web-Worker" class="headerlink" title="web Worker"></a>web Worker</h3><p>为JavaScript 创造多线程环境，</p>
<ol>
<li><p>同源限制，分配给worker线程运行的脚本文件，必须与主线程脚本同源</p>
</li>
<li><p>DOM限制，无法使用document，window，parent，可以使用 navigator，location</p>
</li>
<li><p>通信联系， 不能直接通信，只能通过消息完成</p>
</li>
<li><p>vue模块化（懒）加载，vue和react的区别、virtual dom、diff算法等问题。</p>
</li>
<li><p>API数据缓存方案。</p>
</li>
<li><p>axios的实现原理。</p>
</li>
</ol>
<h3 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h3><ol>
<li>Service Workers本质上充当Web 应用程序与浏览器之间的代理服务器，也可以在网络可用时作为浏览器和网络间的代理，使得能够创建有效的离线体验，拦截网络请求并基于网络是否可以用以及更新资源是否驻留在服务器上采取适当的动作，允许访问和推送通知到后台同步API</li>
</ol>
<h3 id="使用Service-Worker的条件"><a href="#使用Service-Worker的条件" class="headerlink" title="使用Service Worker的条件"></a>使用Service Worker的条件</h3><ol>
<li>需要在HTTPS中才可以使用serviceWorker</li>
<li>IOS11.3 之后才支持serviceWorker</li>
<li>如果用户在产品发版后，并且ServiceWorker未主动获取新版本的时段访问站点，用户会使用历史版本，此时需要和确保后端接口兼容历史版本</li>
<li>要做一些异常情况的应急处理，如主动注销Service Worker</li>
</ol>
<h1 id="promise、await-async-thunk作用和为什么使用的相同点和不同点。"><a href="#promise、await-async-thunk作用和为什么使用的相同点和不同点。" class="headerlink" title="promise、await/async,thunk作用和为什么使用的相同点和不同点。"></a>promise、await/async,thunk作用和为什么使用的相同点和不同点。</h1><h2 id="thunk-参考文档"><a href="#thunk-参考文档" class="headerlink" title="thunk 参考文档"></a>thunk <a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2015/05/thunk.html">参考文档</a></h2><pre><code>    1. 传值调用，传名调用
    2. 一种传名调用的实现方式

    function f(m)&#123;
      return m * 2;     
    &#125;

    f(x + 5);

    // 等同于

    var thunk = function () &#123;
      return x + 5;
    &#125;;

    function f(thunk)&#123;
      return thunk() * 2;
    &#125;
</code></pre>
<hr>
<pre><code>    var fs = require(&#39;fs&#39;);
    var thunkify = require(&#39;thunkify&#39;);
    var readFile = thunkify(fs.readFile);

    function run(fn) &#123;
      var gen = fn();

      function next(err, data) &#123;
        var result = gen.next(data);
        if (result.done) return;
        result.value(next);
      &#125;

      next();
    &#125;


    var gen = function* ()&#123;
      var f1 = yield readFile(&#39;./1.json&#39;);
      console.dir(f1.toString())
      var f2 = yield readFile(&#39;./2.json&#39;);
      console.dir(f2.toString())
    &#125;;

    run(gen);
</code></pre>
<h2 id="使用Promise"><a href="#使用Promise" class="headerlink" title="使用Promise"></a>使用Promise</h2><pre><code>    const makeRequest = () =&gt;
    getJSON()
      .then(data =&gt; &#123;
        console.log(data)
        return &quot;done&quot;
      &#125;)

  makeRequest()
</code></pre>
<h2 id="使用Async"><a href="#使用Async" class="headerlink" title="使用Async"></a>使用Async</h2><pre><code>    const makeRequest = async() =&gt; &#123;
            console.log(await getJSON)
            return &quot;done&quot;
    &#125;

    makeRequest()
</code></pre>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><ol>
<li><p>在函数前有一个关键字async，await关键字只能在async定义的函数中使用，如何一个async的函数都会隐式返回一个promise，并且promise reslove 的值就是return 返回的值</p>
</li>
<li><p>不能在函数开头使用await</p>
</li>
<li><p>Promise有三种状态， reslove，reject， throw， async只有二中reslove throw（reject，throw）</p>
</li>
<li><p>async避免依赖请求的嵌套调用</p>
</li>
<li><p>错误栈，出错后抛出异常，能清楚的打印到哪里出错</p>
<h2 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h2></li>
<li><p>代码简介， async让代码看起来更像同步代码，不想Promise 一样需要then</p>
</li>
<li><p>Promise中不能自定义使用 try/catch 进行错误捕获，但是在Async/await中可以</p>
</li>
</ol>
<h1 id="forEach和map的使用场景和区别。forEach中如何break"><a href="#forEach和map的使用场景和区别。forEach中如何break" class="headerlink" title="forEach和map的使用场景和区别。forEach中如何break"></a>forEach和map的使用场景和区别。forEach中如何break</h1><h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach():"></a>forEach():</h2><p>针对每一个元素执行提供的函数</p>
<h3 id="break"><a href="#break" class="headerlink" title="break"></a>break</h3><ol>
<li>throw</li>
<li>空跑循环</li>
<li>改原始数组</li>
<li>该用 every或者some</li>
</ol>
<h2 id="map"><a href="#map" class="headerlink" title="map():"></a>map():</h2><p>创建一个新的数组，其中每个元素由调用数组中的每个元素执行提供的函数得来</p>
<h1 id="vscode的技术架构"><a href="#vscode的技术架构" class="headerlink" title="vscode的技术架构"></a>vscode的技术架构</h1><h2 id="多进程架构"><a href="#多进程架构" class="headerlink" title="多进程架构"></a>多进程架构</h2><p>主进程：VSCode 的入口进程，负责一些类似窗口管理、进程间通信、自动更新等全局任务<br>渲染进程：负责一个 Web 页面的渲染<br>插件宿主进程：每个插件的代码都会运行在一个独属于自己的 NodeJS 环境的宿主进程中，插件不允许访问 UI<br>Debug 进程：Debugger 相比普通插件做了特殊化<br>Search 进程：搜索是一类计算密集型的任务，单开进程保证软件整体体验与性能</p>
<h2 id="Text-Buffer"><a href="#Text-Buffer" class="headerlink" title="Text Buffer"></a>Text Buffer</h2><h2 id="Document-Position"><a href="#Document-Position" class="headerlink" title="Document Position"></a>Document Position</h2><h1 id="jenkins-的-pipeline-as-code的语言。（Groovy）"><a href="#jenkins-的-pipeline-as-code的语言。（Groovy）" class="headerlink" title="jenkins 的 pipeline as code的语言。（Groovy）"></a>jenkins 的 pipeline as code的语言。（Groovy）</h1><h1 id="是否使用过webpack搭建项目，loader和plugin的加载顺序。"><a href="#是否使用过webpack搭建项目，loader和plugin的加载顺序。" class="headerlink" title="是否使用过webpack搭建项目，loader和plugin的加载顺序。"></a>是否使用过webpack搭建项目，loader和plugin的加载顺序。</h1><p>loader 是一个转换器，将A文件进行编译成B文件，单纯的文件转换过程，针对文件</p>
<p>plugin 是一个扩展器，丰富了webpack本身，针对loader结束后，webpack打包的整个过程，并不是直接操作文件，而是基于事件机制工作，会监听webpack打包过程中的某些节点，执行广泛的任务，针对工程</p>
<h1 id="项目里UT怎么保证的"><a href="#项目里UT怎么保证的" class="headerlink" title="项目里UT怎么保证的"></a>项目里UT怎么保证的</h1><h1 id="和App怎么通信的"><a href="#和App怎么通信的" class="headerlink" title="和App怎么通信的"></a>和App怎么通信的</h1><h1 id="常见安全问题"><a href="#常见安全问题" class="headerlink" title="常见安全问题"></a>常见安全问题</h1><h1 id="HTTPS咋工作的"><a href="#HTTPS咋工作的" class="headerlink" title="HTTPS咋工作的"></a>HTTPS咋工作的</h1><h1 id="React性能咋优化的"><a href="#React性能咋优化的" class="headerlink" title="React性能咋优化的"></a>React性能咋优化的</h1><h1 id="深浅拷贝"><a href="#深浅拷贝" class="headerlink" title="深浅拷贝"></a>深浅拷贝</h1><h1 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h1><ol>
<li><p>减少内存消耗（列表事件绑定，事件绑定到父元素，然后用条件判断）</p>
</li>
<li><p>动态绑定事件</p>
<pre><code> jquery 
 $.on: 基本用法: $(&#39;.parent&#39;).on(&#39;click&#39;, &#39;a&#39;, function () &#123; console.log(&#39;click event on tag a&#39;); &#125;)，它是 .parent 元素之下的 a 元素的事件代理到 $(&#39;.parent&#39;) 之上，只要在这个元素上有点击事件，就会自动寻找到 .parent 元素下的 a 元素，然后响应事件；
 $.delegate: 基本用法: $(&#39;.parent&#39;).delegate(&#39;a&#39;, &#39;click&#39;, function () &#123; console.log(&#39;click event on tag a&#39;); &#125;)，同上，并且还有相对应的 $.delegate 来删除代理的事件；
 $.live: 基本使用方法: $(&#39;a&#39;, $(&#39;.parent&#39;)).live(&#39;click&#39;, function () &#123; console.log(&#39;click event on tag a&#39;); &#125;)，同上，然而如果没有传入父层元素 $(.parent)，那事件会默认委托到 $(document) 上；(已废除)
</code></pre>
</li>
</ol>
<ol start="21">
<li>项目中用到了哪些设计模式</li>
<li>Vue双向绑定原理</li>
<li>对docker的理解</li>
<li> Cookie咋工作的</li>
<li> Chrome Performance用得熟不熟</li>
<li>react vue区别 redux redux-saga场景</li>
<li>网络安全</li>
<li>短时间交付大的feature怎么保证质量</li>
</ol>
<h1 id="状态机"><a href="#状态机" class="headerlink" title="状态机"></a>状态机</h1><ol>
<li>State 状态</li>
<li>Event 事件</li>
<li>Action 动作</li>
<li>Transition 变换</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/03/30/%E5%89%8D%E7%AB%AF/%E9%9D%A2%E8%AF%95%E9%A2%98/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" data-id="ckm3ks2wi00bpnzx4ff13dhma" data-title="前端面试题" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/10/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/12/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/">技术文档</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/">前端</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/HTTPS/">HTTPS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/JS/">JS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/Koa/">Koa</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/Promise/">Promise</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/Vue/">Vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/async/">async</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/async/await/">await</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/ci/">ci</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/ci-cd/">ci/cd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/css/">css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/db/">db</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/e2e/">e2e</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/mac/">mac</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/node/">node</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/test/">test</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/vue/">vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/vue3/">vue3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/webpack/">webpack</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/">函数式编程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/%E5%9B%BE%E7%89%87/">图片</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/%E6%B5%8B%E8%AF%95/">测试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%89%8D%E7%AB%AF/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7/PPT/">PPT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7/iterm2/">iterm2</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%B7%A5%E5%85%B7/markdown/">markdown</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ssh/">ssh</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTPS/" rel="tag">HTTPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Koa/" rel="tag">Koa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PPT/" rel="tag">PPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/" rel="tag">Promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angularjs/" rel="tag">angularjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/async/" rel="tag">async</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/await/" rel="tag">await</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/" rel="tag">ci</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci-cd/" rel="tag">ci/cd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/db/" rel="tag">db</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/e2e/" rel="tag">e2e</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/error/" rel="tag">error</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gogs/" rel="tag">gogs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iterm2/" rel="tag">iterm2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jest/" rel="tag">jest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/" rel="tag">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue3/" rel="tag">vue3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" rel="tag">函数式编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E7%89%87/" rel="tag">图片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%8F%91/" rel="tag">开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag">框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E4%BB%B6/" rel="tag">组件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" rel="tag">计算机基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E8%A8%80/" rel="tag">语言</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/HTTP/" style="font-size: 11.43px;">HTTP</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/JS/" style="font-size: 15.71px;">JS</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/Koa/" style="font-size: 10px;">Koa</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/PPT/" style="font-size: 10px;">PPT</a> <a href="/tags/Promise/" style="font-size: 11.43px;">Promise</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/angularjs/" style="font-size: 12.86px;">angularjs</a> <a href="/tags/async/" style="font-size: 10px;">async</a> <a href="/tags/await/" style="font-size: 10px;">await</a> <a href="/tags/ci/" style="font-size: 10px;">ci</a> <a href="/tags/ci-cd/" style="font-size: 10px;">ci/cd</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/db/" style="font-size: 10px;">db</a> <a href="/tags/docker/" style="font-size: 11.43px;">docker</a> <a href="/tags/e2e/" style="font-size: 10px;">e2e</a> <a href="/tags/error/" style="font-size: 10px;">error</a> <a href="/tags/gogs/" style="font-size: 10px;">gogs</a> <a href="/tags/iterm2/" style="font-size: 10px;">iterm2</a> <a href="/tags/javascript/" style="font-size: 14.29px;">javascript</a> <a href="/tags/jest/" style="font-size: 10px;">jest</a> <a href="/tags/js/" style="font-size: 18.57px;">js</a> <a href="/tags/mac/" style="font-size: 11.43px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.43px;">markdown</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/vscode/" style="font-size: 12.86px;">vscode</a> <a href="/tags/vue/" style="font-size: 14.29px;">vue</a> <a href="/tags/vue3/" style="font-size: 10px;">vue3</a> <a href="/tags/webpack/" style="font-size: 17.14px;">webpack</a> <a href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">函数式编程</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E5%9B%BE%E7%89%87/" style="font-size: 10px;">图片</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">基础</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E5%BC%80%E5%8F%91/" style="font-size: 10px;">开发</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 12.86px;">框架</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 11.43px;">测试</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 14.29px;">浏览器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 12.86px;">算法</a> <a href="/tags/%E7%BB%84%E4%BB%B6/" style="font-size: 10px;">组件</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 11.43px;">网络</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 11.43px;">计算机基础</a> <a href="/tags/%E8%AF%AD%E8%A8%80/" style="font-size: 14.29px;">语言</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/11/ci/ssh/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/03/11/ci/nginx/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/03/11/ci/circleci/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/03/11/%E7%AE%97%E6%B3%95/LRU%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/03/11/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%BF%98%E8%AE%B0%E5%AF%86%E7%A0%81%E6%81%A2%E5%A4%8D/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>